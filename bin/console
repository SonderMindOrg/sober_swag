#!/usr/bin/env ruby -W:no-experimental
# frozen_string_literal: true

require 'bundler/setup'
require 'sober_swag'
require 'dry-struct'

# You can add fixtures and/or initialization code here to make experimenting
# with your gem easier. You can also use a different console, if you like.
module Types
  include Dry.Types()
end

Bio = SoberSwag.struct do
  attribute :name, primitive(:String).meta(description: 'A very basic bio name')
end

Person = SoberSwag.struct do
  attribute :name, primitive(:String).meta(description: 'The full name description')
  attribute :age, param(:Integer).constrained(gt: 0).optional.meta(description: 'My cool age')
  attribute? :mood, Types::String
end

class PersonSearch < Dry::Struct
  attribute? :name, Types::String
  attribute? :age, Types::Integer
end

class LinkedList < Dry::Struct
  attribute :value, Types::String
  attribute? :next, LinkedList
end


# (If you use this, don't forget to add pry to your Gemfile!)
require "pry"
Pry.start
